<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Shapes with Custom Model</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
</head>
<body>
<script>
function setup() {
  createCanvas(710, 400, WEBGL);
  angleMode(DEGREES);
  normalMaterial();

  describe(
    'Eight 3D shapes: a plane, box, cylinder, cone, torus, sphere, ellipsoid, and a custom 3D shape (replacing astronaut). Each shape is rotating in all directions.'
  );
}

function draw() {
  background(250);

  // Plane
  push();
  translate(-250, -100, 0);
  rotateWithFrameCount();
  plane(70);
  pop();

  // Box
  push();
  translate(-75, -100, 0);
  rotateWithFrameCount();
  box(70, 70, 70);
  pop();

  // Cylinder
  push();
  translate(100, -100, 0);
  rotateWithFrameCount();
  cylinder(70, 70);
  pop();

  // Cone
  push();
  translate(275, -100, 0);
  rotateWithFrameCount();
  cone(50, 70);
  pop();

  // Torus
  push();
  translate(-250, 100, 0);
  rotateWithFrameCount();
  torus(50, 20);
  pop();

  // Sphere
  push();
  translate(-75, 100, 0);
  rotateWithFrameCount();
  stroke(0);
  sphere(50);
  pop();

  // Ellipsoid
  push();
  translate(100, 100, 0);
  rotateWithFrameCount();
  ellipsoid(20, 40, 40);
  pop();

  // Custom 3D shape (replacing astronaut)
  push();
  translate(275, 100, 0);
  rotateWithFrameCount();
  rotateZ(45); // کمی چرخش برای تنوع
  customShape();
  pop();
}

function rotateWithFrameCount() {
  rotateZ(frameCount);
  rotateX(frameCount);
  rotateY(frameCount);
}

// تعریف شکل سفارشی
function customShape() {
  // یک شکل هندسی شبیه Torus knot
  beginShape();
  for (let i = 0; i < 360; i += 10) {
    let x = 40 * cos(i) + 20 * cos(3*i);
    let y = 40 * sin(i) + 20 * sin(3*i);
    let z = 20 * sin(5*i);
    vertex(x, y, z);
  }
  endShape(CLOSE);
}
</script>
</body>
</html>
