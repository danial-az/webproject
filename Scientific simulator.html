<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÙÛŒØ²ÛŒÚ© Ùˆ Ø±ÛŒØ§Ø¶ÛŒ Ø¯Ø± p5.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <style>
        body {
            font-family: 'Tahoma', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-family: 'Tahoma', sans-serif;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        button:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }
        
        button.active {
            background: rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 0.7);
        }
        
        #canvas-container {
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .info-panel {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            backdrop-filter: blur(5px);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #4facfe;
        }
        
        .instructions {
            text-align: right;
            line-height: 1.8;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒŠ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÙÛŒØ²ÛŒÚ© Ùˆ Ø±ÛŒØ§Ø¶ÛŒ</h1>
        <p class="subtitle">Ù†Ù…Ø§ÛŒØ´ ØªØ¹Ø§Ù…Ù„ÛŒ Ù…ÙØ§Ù‡ÛŒÙ… ÙÛŒØ²ÛŒÚ© Ùˆ Ø±ÛŒØ§Ø¶ÛŒ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² p5.js</p>
        
        <div class="controls">
            <button onclick="setDemo('gravity')" id="gravity-btn" class="active">ğŸŒ Ø¬Ø§Ø°Ø¨Ù‡ Ùˆ Ù¾Ø±ØªØ§Ø¨</button>
            <button onclick="setDemo('pendulum')" id="pendulum-btn">âš–ï¸ Ø¢ÙˆÙ†Ú¯</button>
            <button onclick="setDemo('waves')" id="waves-btn">ğŸŒŠ Ø§Ù…ÙˆØ§Ø¬</button>
            <button onclick="setDemo('particles')" id="particles-btn">âœ¨ Ø°Ø±Ø§Øª</button>
            <button onclick="setDemo('fractal')" id="fractal-btn">ğŸŒ³ ÙØ±Ø§Ú©ØªØ§Ù„</button>
        </div>
        
        <div id="canvas-container"></div>
        
        <div class="info-panel">
            <div id="demo-info">
                <h3>ğŸŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¬Ø§Ø°Ø¨Ù‡ Ùˆ Ø­Ø±Ú©Øª Ù¾Ø±ØªØ§Ø¨ÛŒ</h3>
                <div class="instructions">
                    <strong>Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡:</strong><br>
                    â€¢ Ú©Ù„ÛŒÚ© Ùˆ Ú©Ø´ÛŒØ¯Ù† Ø¨Ø±Ø§ÛŒ Ù¾Ø±ØªØ§Ø¨ ØªÙˆÙ¾<br>
                    â€¢ Ù‡Ø± Ú†Ù‡ Ø¨ÛŒØ´ØªØ± Ú©Ø´ÛŒØ¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ø³Ø±Ø¹Øª Ø§ÙˆÙ„ÛŒÙ‡ Ø¨ÛŒØ´ØªØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯<br>
                    â€¢ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø³ÛŒØ± Ø­Ø±Ú©Øª Ùˆ Ø§Ø«Ø± Ø¬Ø§Ø°Ø¨Ù‡<br>
                    â€¢ ÙÛŒØ²ÛŒÚ© ÙˆØ§Ù‚Ø¹ÛŒ: v = vâ‚€ + gt Ùˆ s = vâ‚€t + Â½gtÂ²
                </div>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <strong>ØªØ¹Ø¯Ø§Ø¯ Ù¾Ø±ØªØ§Ø¨Ù‡â€ŒÙ‡Ø§:</strong>
                    <span id="projectile-count">0</span>
                </div>
                <div class="stat-item">
                    <strong>Ø³Ø±Ø¹Øª Ø§ÙˆÙ„ÛŒÙ‡:</strong>
                    <span id="initial-velocity">0</span> Ù¾ÛŒÚ©Ø³Ù„/ÙØ±ÛŒÙ…
                </div>
                <div class="stat-item">
                    <strong>Ø²Ø§ÙˆÛŒÙ‡ Ù¾Ø±ØªØ§Ø¨:</strong>
                    <span id="launch-angle">0Â°</span>
                </div>
                <div class="stat-item">
                    <strong>Ø¨Ø±Ø¯ Ù¾Ø±ØªØ§Ø¨Ù‡:</strong>
                    <span id="projectile-range">0</span> Ù¾ÛŒÚ©Ø³Ù„
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentDemo = 'gravity';
        let canvas;
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø´ØªØ±Ú©
        let projectiles = [];
        let pendulums = [];
        let particles = [];
        let waves = [];
        let gravity;
        let mouseStartX, mouseStartY;
        let isDragging = false;
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ ÙØ±Ø§Ú©ØªØ§Ù„
        let angle = 0;
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø¢Ù…Ø§Ø±ÛŒ
        let stats = {
            projectileCount: 0,
            initialVelocity: 0,
            launchAngle: 0,
            range: 0
        };

        function setup() {
            canvas = createCanvas(800, 500);
            canvas.parent('canvas-container');
            
            gravity = createVector(0, 0.3);
            
            // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¢ÙˆÙ†Ú¯â€ŒÙ‡Ø§
            for(let i = 0; i < 3; i++) {
                pendulums.push({
                    x: 200 + i * 200,
                    y: 50,
                    length: 150 + i * 30,
                    angle: PI/4 - i * 0.3,
                    angularVel: 0,
                    color: [100 + i * 50, 150 + i * 30, 255 - i * 40]
                });
            }
            
            // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø§Ù…ÙˆØ§Ø¬
            for(let i = 0; i < 4; i++) {
                waves.push({
                    amplitude: 30 + i * 15,
                    frequency: 0.01 + i * 0.005,
                    phase: i * PI/2,
                    speed: 0.02 + i * 0.01
                });
            }
        }

        function draw() {
            background(20, 30, 50);
            
            switch(currentDemo) {
                case 'gravity':
                    drawGravityDemo();
                    break;
                case 'pendulum':
                    drawPendulumDemo();
                    break;
                case 'waves':
                    drawWavesDemo();
                    break;
                case 'particles':
                    drawParticlesDemo();
                    break;
                case 'fractal':
                    drawFractalDemo();
                    break;
            }
            
            updateStats();
        }

        function drawGravityDemo() {
            // Ø±Ø³Ù… Ø²Ù…ÛŒÙ†
            stroke(100, 255, 100);
            strokeWeight(3);
            line(0, height - 30, width, height - 30);
            
            // Ø±Ø³Ù… Ø®Ø· Ù‡Ø¯Ø§ÛŒØª
            if(isDragging) {
                stroke(255, 100, 100, 150);
                strokeWeight(2);
                line(mouseStartX, mouseStartY, mouseX, mouseY);
                
                // Ù†Ù…Ø§ÛŒØ´ Ø³Ø±Ø¹Øª Ø§ÙˆÙ„ÛŒÙ‡
                let vel = createVector(mouseX - mouseStartX, mouseY - mouseStartY);
                vel.mult(0.3);
                stats.initialVelocity = vel.mag().toFixed(1);
                stats.launchAngle = (-atan2(vel.y, vel.x) * 180 / PI).toFixed(0);
                
                // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù…Ø³ÛŒØ±
                stroke(255, 255, 0, 100);
                strokeWeight(1);
                noFill();
                beginShape();
                for(let t = 0; t < 100; t += 2) {
                    let x = mouseStartX + vel.x * t;
                    let y = mouseStartY + vel.y * t + 0.5 * gravity.y * t * t;
                    if(y > height - 30 || x > width) break;
                    vertex(x, y);
                }
                endShape();
            }
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ØªØ§Ø¨Ù‡â€ŒÙ‡Ø§
            for(let i = projectiles.length - 1; i >= 0; i--) {
                let p = projectiles[i];
                
                p.velocity.add(gravity);
                p.position.add(p.velocity);
                
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù…Ø³ÛŒØ±
                p.trail.push(p.position.copy());
                if(p.trail.length > 30) {
                    p.trail.splice(0, 1);
                }
                
                // Ø±Ø³Ù… Ù…Ø³ÛŒØ±
                stroke(255, 150 + sin(frameCount * 0.1) * 50, 100, 200);
                strokeWeight(2);
                for(let j = 1; j < p.trail.length; j++) {
                    let alpha = map(j, 0, p.trail.length, 0, 255);
                    stroke(255, 100, 50, alpha);
                    line(p.trail[j-1].x, p.trail[j-1].y, p.trail[j].x, p.trail[j].y);
                }
                
                // Ø±Ø³Ù… Ù¾Ø±ØªØ§Ø¨Ù‡
                fill(255, 200 + sin(frameCount * 0.2 + i) * 55, 100);
                noStroke();
                ellipse(p.position.x, p.position.y, p.size, p.size);
                
                // Ø­Ø°Ù Ù¾Ø±ØªØ§Ø¨Ù‡
                if(p.position.y > height - 30 || p.position.x > width) {
                    stats.range = p.position.x;
                    projectiles.splice(i, 1);
                }
            }
        }

        function drawPendulumDemo() {
            for(let p of pendulums) {
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†ÛŒØ±ÙˆÙ‡Ø§
                let gravity = 0.4;
                let angularAcc = (-gravity / p.length) * sin(p.angle);
                
                p.angularVel += angularAcc;
                p.angularVel *= 0.999; // Ù…ÛŒØ±Ø§ÛŒÛŒ Ø¨Ø³ÛŒØ§Ø± Ú©Ù… Ø¨Ø±Ø§ÛŒ Ø­ÙØ¸ Ø§Ù†Ø±Ú˜ÛŒ
                p.angle += p.angularVel;
                
                // Ù…ÙˆÙ‚Ø¹ÛŒØª ÙˆØ²Ù†Ù‡
                let bobX = p.x + p.length * sin(p.angle);
                let bobY = p.y + p.length * cos(p.angle);
                
                // Ø±Ø³Ù… Ø±ÛŒØ³Ù…Ø§Ù†
                stroke(200, 200, 200);
                strokeWeight(2);
                line(p.x, p.y, bobX, bobY);
                
                // Ø±Ø³Ù… Ù…Ø³ÛŒØ± (Ù‚ÙˆØ³ Ø¯Ø§ÛŒØ±Ù‡)
                stroke(p.color[0], p.color[1], p.color[2], 50);
                strokeWeight(1);
                noFill();
                let startAngle = -PI/3;
                let endAngle = PI/3;
                arc(p.x, p.y, p.length * 2, p.length * 2, startAngle, endAngle);
                
                // Ù†Ù‚Ø·Ù‡ ØªÚ©ÛŒÙ‡
                fill(100);
                noStroke();
                ellipse(p.x, p.y, 8, 8);
                
                // ÙˆØ²Ù†Ù‡
                fill(p.color[0], p.color[1], p.color[2]);
                ellipse(bobX, bobY, 20, 20);
                
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù†Ø±Ú˜ÛŒâ€ŒÙ‡Ø§ (ÙÛŒØ²ÛŒÚ© ØµØ­ÛŒØ­)
                let mass = 1; // Ø¬Ø±Ù… ÙˆØ§Ø­Ø¯
                let g = 0.4;  // Ø´ØªØ§Ø¨ Ø¬Ø§Ø°Ø¨Ù‡
                
                // Ø§Ù†Ø±Ú˜ÛŒ Ø¬Ù†Ø¨Ø´ÛŒ: KE = 0.5 * m * (L * Ï‰)Â²
                let linearVelocity = abs(p.angularVel * p.length);
                let ke = 0.5 * mass * linearVelocity * linearVelocity;
                
                // Ø§Ù†Ø±Ú˜ÛŒ Ù¾ØªØ§Ù†Ø³ÛŒÙ„: PE = mgh = mg * L * (1 - cos(Î¸))
                let height = p.length * (1 - cos(p.angle));
                let pe = mass * g * height;
                
                // Ø§Ù†Ø±Ú˜ÛŒ Ú©Ù„
                let totalEnergy = ke + pe;
                
                // Ù†Ù…Ø§ÛŒØ´ Ø§Ù†Ø±Ú˜ÛŒâ€ŒÙ‡Ø§
                fill(255);
                textAlign(CENTER);
                textSize(11);
                text(`KE: ${ke.toFixed(2)}`, p.x, p.y + p.length + 30);
                text(`PE: ${pe.toFixed(2)}`, p.x, p.y + p.length + 45);
                text(`Total: ${totalEnergy.toFixed(2)}`, p.x, p.y + p.length + 60);
                
                // Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØ§Ø± Ø§Ù†Ø±Ú˜ÛŒ
                let barWidth = 60;
                let barHeight = 8;
                let barY = p.y + p.length + 75;
                
                // Ù†ÙˆØ§Ø± Ú©Ù„ Ø§Ù†Ø±Ú˜ÛŒ (Ø²Ù…ÛŒÙ†Ù‡)
                fill(50);
                rect(p.x - barWidth/2, barY, barWidth, barHeight);
                
                if(totalEnergy > 0) {
                    // Ù†ÙˆØ§Ø± Ø§Ù†Ø±Ú˜ÛŒ Ø¬Ù†Ø¨Ø´ÛŒ (Ù‚Ø±Ù…Ø²)
                    fill(255, 100, 100);
                    let keWidth = (ke / totalEnergy) * barWidth;
                    rect(p.x - barWidth/2, barY, keWidth, barHeight);
                    
                    // Ù†ÙˆØ§Ø± Ø§Ù†Ø±Ú˜ÛŒ Ù¾ØªØ§Ù†Ø³ÛŒÙ„ (Ø¢Ø¨ÛŒ)
                    fill(100, 100, 255);
                    let peWidth = (pe / totalEnergy) * barWidth;
                    rect(p.x - barWidth/2 + keWidth, barY, peWidth, barHeight);
                }
                
                // Ù‚Ø§Ø¨ Ù†ÙˆØ§Ø±
                noFill();
                stroke(255);
                rect(p.x - barWidth/2, barY, barWidth, barHeight);
            }
            
            // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ù‚Ø§ÛŒ Ø§Ù†Ø±Ú˜ÛŒ
            fill(255);
            textAlign(LEFT);
            textSize(14);
            text('âš–ï¸ Ù‚Ø§Ù†ÙˆÙ† Ø¨Ù‚Ø§ÛŒ Ø§Ù†Ø±Ú˜ÛŒ: KE + PE = Ø«Ø§Ø¨Øª', 20, 30);
            text('ğŸ”´ Ù‚Ø±Ù…Ø²: Ø§Ù†Ø±Ú˜ÛŒ Ø¬Ù†Ø¨Ø´ÛŒ (KE)', 20, 50);
            text('ğŸ”µ Ø¢Ø¨ÛŒ: Ø§Ù†Ø±Ú˜ÛŒ Ù¾ØªØ§Ù†Ø³ÛŒÙ„ (PE)', 20, 70);
            text('Ú©Ù„ÛŒÚ© Ù†Ø²Ø¯ÛŒÚ© Ø¢ÙˆÙ†Ú¯ Ø¨Ø±Ø§ÛŒ Ø§Ø®ØªÙ„Ø§Ù„', 20, 90);
        }

        function drawWavesDemo() {
            // Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†Øª Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
            for(let i = 0; i <= height; i++) {
                let alpha = map(i, 0, height, 0, 1);
                let c = lerpColor(color(50, 100, 200), color(20, 50, 100), alpha);
                stroke(c);
                line(0, i, width, i);
            }
            
            // Ø±Ø³Ù… Ø§Ù…ÙˆØ§Ø¬
            for(let w = 0; w < waves.length; w++) {
                let wave = waves[w];
                
                fill(255, 255, 255, 100 - w * 20);
                noStroke();
                
                beginShape();
                vertex(0, height);
                
                for(let x = 0; x <= width; x += 3) {
                    let y = height/2 + wave.amplitude * sin(x * wave.frequency + wave.phase + frameCount * wave.speed);
                    vertex(x, y);
                }
                
                vertex(width, height);
                endShape(CLOSE);
                
                wave.phase += wave.speed;
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ù…Ø¹Ø§Ø¯Ù„Ù‡ Ù…ÙˆØ¬
            fill(255);
            textAlign(LEFT);
            textSize(14);
            text('Ù…Ø¹Ø§Ø¯Ù„Ù‡ Ù…ÙˆØ¬: y = A Ã— sin(fx + Ï† + t)', 20, 30);
            text(`A: Ø¯Ø§Ù…Ù†Ù‡ØŒ f: ÙØ±Ú©Ø§Ù†Ø³ØŒ Ï†: ÙØ§Ø²ØŒ t: Ø²Ù…Ø§Ù†`, 20, 50);
        }

        function drawParticlesDemo() {
            // ØªÙˆÙ„ÛŒØ¯ Ø°Ø±Ø§Øª Ø¬Ø¯ÛŒØ¯
            if(frameCount % 3 == 0) {
                particles.push({
                    x: width/2 + random(-20, 20),
                    y: height - 50,
                    vx: random(-3, 3),
                    vy: random(-8, -3),
                    life: 255,
                    size: random(3, 8),
                    color: [random(200, 255), random(100, 200), random(50, 150)]
                });
            }
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø°Ø±Ø§Øª
            for(let i = particles.length - 1; i >= 0; i--) {
                let p = particles[i];
                
                // ÙÛŒØ²ÛŒÚ©
                p.vy += 0.1; // Ø¬Ø§Ø°Ø¨Ù‡
                p.vx *= 0.99; // Ù…Ù‚Ø§ÙˆÙ…Øª Ù‡ÙˆØ§
                p.x += p.vx;
                p.y += p.vy;
                p.life -= 3;
                
                // Ø±Ø³Ù…
                let alpha = map(p.life, 0, 255, 0, 255);
                fill(p.color[0], p.color[1], p.color[2], alpha);
                noStroke();
                ellipse(p.x, p.y, p.size, p.size);
                
                // Ø­Ø°Ù Ø°Ø±Ø§Øª Ù…Ø±Ø¯Ù‡
                if(p.life <= 0 || p.y > height) {
                    particles.splice(i, 1);
                }
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ù…Ù†Ø¨Ø¹
            fill(255, 200, 0);
            ellipse(width/2, height - 50, 15, 15);
        }

        function drawFractalDemo() {
            translate(width/2, height - 50);
            stroke(100, 255, 100);
            strokeWeight(2);
            
            angle = map(mouseX, 0, width, 0, PI/2);
            
            branch(80);
            
            // Ø§Ø·Ù„Ø§Ø¹Ø§Øª
            fill(255);
            textAlign(LEFT);
            text(`Ø²Ø§ÙˆÛŒÙ‡: ${(angle * 180 / PI).toFixed(1)}Â°`, -width/2 + 20, -height + 80);
            text('Ø­Ø±Ú©Øª Ù…Ø§ÙˆØ³ Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø²Ø§ÙˆÛŒÙ‡', -width/2 + 20, -height + 100);
        }

        function branch(len) {
            line(0, 0, 0, -len);
            translate(0, -len);
            
            if(len > 4) {
                push();
                rotate(angle);
                branch(len * 0.67);
                pop();
                
                push();
                rotate(-angle);
                branch(len * 0.67);
                pop();
            }
        }

        function mousePressed() {
            if(currentDemo === 'gravity') {
                mouseStartX = mouseX;
                mouseStartY = mouseY;
                isDragging = true;
            } else if(currentDemo === 'pendulum') {
                // Ø§Ø¹Ù…Ø§Ù„ Ø§Ø®ØªÙ„Ø§Ù„ Ø¨Ù‡ Ø¢ÙˆÙ†Ú¯â€ŒÙ‡Ø§
                for(let p of pendulums) {
                    if(dist(mouseX, mouseY, p.x, p.y) < 100) {
                        p.angularVel += random(-0.2, 0.2);
                    }
                }
            }
        }

        function mouseReleased() {
            if(currentDemo === 'gravity' && isDragging) {
                let velocity = createVector(mouseX - mouseStartX, mouseY - mouseStartY);
                velocity.mult(0.3);
                
                projectiles.push({
                    position: createVector(mouseStartX, mouseStartY),
                    velocity: velocity.copy(),
                    trail: [],
                    size: 12
                });
                
                stats.projectileCount++;
                isDragging = false;
            }
        }

        function updateStats() {
            document.getElementById('projectile-count').textContent = stats.projectileCount;
            document.getElementById('initial-velocity').textContent = stats.initialVelocity;
            document.getElementById('launch-angle').textContent = stats.launchAngle + 'Â°';
            document.getElementById('projectile-range').textContent = Math.round(stats.range);
        }

        function setDemo(demo) {
            currentDemo = demo;
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ
            projectiles = [];
            particles = [];
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ UI
            document.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(demo + '-btn').classList.add('active');
            
            // ØªØºÛŒÛŒØ± Ø§Ø·Ù„Ø§Ø¹Ø§Øª
            const infoPanel = document.getElementById('demo-info');
            const demoInfos = {
                gravity: {
                    title: 'ğŸŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¬Ø§Ø°Ø¨Ù‡ Ùˆ Ø­Ø±Ú©Øª Ù¾Ø±ØªØ§Ø¨ÛŒ',
                    instructions: `
                        <strong>Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡:</strong><br>
                        â€¢ Ú©Ù„ÛŒÚ© Ùˆ Ú©Ø´ÛŒØ¯Ù† Ø¨Ø±Ø§ÛŒ Ù¾Ø±ØªØ§Ø¨ ØªÙˆÙ¾<br>
                        â€¢ Ù‡Ø± Ú†Ù‡ Ø¨ÛŒØ´ØªØ± Ú©Ø´ÛŒØ¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ø³Ø±Ø¹Øª Ø§ÙˆÙ„ÛŒÙ‡ Ø¨ÛŒØ´ØªØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯<br>
                        â€¢ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø³ÛŒØ± Ø­Ø±Ú©Øª Ùˆ Ø§Ø«Ø± Ø¬Ø§Ø°Ø¨Ù‡<br>
                        â€¢ ÙÛŒØ²ÛŒÚ© ÙˆØ§Ù‚Ø¹ÛŒ: v = vâ‚€ + gt Ùˆ s = vâ‚€t + Â½gtÂ²
                    `
                },
                pendulum: {
                    title: 'âš–ï¸ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¢ÙˆÙ†Ú¯ Ø³Ø§Ø¯Ù‡',
                    instructions: `
                        <strong>Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡:</strong><br>
                        â€¢ Ú©Ù„ÛŒÚ© Ù†Ø²Ø¯ÛŒÚ© Ø¢ÙˆÙ†Ú¯â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ù…Ø§Ù„ Ø§Ø®ØªÙ„Ø§Ù„<br>
                        â€¢ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªØ¨Ø¯ÛŒÙ„ Ø§Ù†Ø±Ú˜ÛŒ Ø¬Ù†Ø¨Ø´ÛŒ Ùˆ Ù¾ØªØ§Ù†Ø³ÛŒÙ„<br>
                        â€¢ Ù‚Ø§Ù†ÙˆÙ† Ø¨Ù‚Ø§ÛŒ Ø§Ù†Ø±Ú˜ÛŒ: KE + PE = const<br>
                        â€¢ Ø¯ÙˆØ±Ù‡ ØªÙ†Ø§ÙˆØ¨: T = 2Ï€âˆš(L/g)
                    `
                },
                waves: {
                    title: 'ğŸŒŠ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ù…ÙˆØ§Ø¬ Ø§Ù‚ÛŒØ§Ù†ÙˆØ³',
                    instructions: `
                        <strong>Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ù…ÙˆØ§Ø¬ Ø·Ø¨ÛŒØ¹ÛŒ:</strong><br>
                        â€¢ Ø³Ù‡ Ù„Ø§ÛŒÙ‡ Ù…ÙˆØ¬ Ø¨Ø§ Ø¹Ù…Ù‚â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù<br>
                        â€¢ Ù…ÙˆØ¬ Ø¹Ù…Ù‚ÛŒ: Ø­Ø±Ú©Øª Ø¢Ù‡Ø³ØªÙ‡ Ùˆ Ø¢Ø±Ø§Ù…<br>
                        â€¢ Ù…ÙˆØ¬ Ù…ÛŒØ§Ù†ÛŒ: Ø³Ø±Ø¹Øª Ùˆ Ø¯Ø§Ù…Ù†Ù‡ Ù…ØªÙˆØ³Ø·<br>
                        â€¢ Ù…ÙˆØ¬ Ø³Ø·Ø­ÛŒ: Ø³Ø±ÛŒØ¹ Ø¨Ø§ Ú©Ùâ€ŒØ¢Ù„ÙˆØ¯ Ø³ÙÛŒØ¯<br>
                        â€¢ Ù‡Ø± Ù„Ø§ÛŒÙ‡ ÙØ±Ú©Ø§Ù†Ø³ Ùˆ Ø³Ø±Ø¹Øª Ù…ØªÙØ§ÙˆØª Ø¯Ø§Ø±Ø¯
                    `
                },
                particles: {
                    title: 'âœ¨ Ø³ÛŒØ³ØªÙ… Ø°Ø±Ø§Øª',
                    instructions: `
                        <strong>ÙÛŒØ²ÛŒÚ© Ø°Ø±Ø§Øª:</strong><br>
                        â€¢ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¢ØªØ´ØŒ Ø¯ÙˆØ¯ ÛŒØ§ Ø¢Ø¨<br>
                        â€¢ Ø§Ø¹Ù…Ø§Ù„ Ù†ÛŒØ±ÙˆÛŒ Ø¬Ø§Ø°Ø¨Ù‡<br>
                        â€¢ Ù…Ù‚Ø§ÙˆÙ…Øª Ù‡ÙˆØ§ Ùˆ Ù…ÛŒØ±Ø§ÛŒÛŒ<br>
                        â€¢ Ú†Ø±Ø®Ù‡ Ø­ÛŒØ§Øª Ø°Ø±Ø§Øª
                    `
                },
                fractal: {
                    title: 'ğŸŒ³ Ø¯Ø±Ø®Øª ÙØ±Ø§Ú©ØªØ§Ù„',
                    instructions: `
                        <strong>Ù‡Ù†Ø¯Ø³Ù‡ ÙØ±Ø§Ú©ØªØ§Ù„:</strong><br>
                        â€¢ Ø­Ø±Ú©Øª Ù…Ø§ÙˆØ³ Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø²Ø§ÙˆÛŒÙ‡ Ø´Ø§Ø®Ù‡â€ŒÙ‡Ø§<br>
                        â€¢ Ø®ÙˆØ¯Ø´Ø¨Ø§Ù‡ÛŒ Ø¯Ø± Ù…Ù‚ÛŒØ§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù<br>
                        â€¢ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ø¨Ø§Ø²Ú¯Ø´ØªÛŒ<br>
                        â€¢ Ú©Ø§Ø±Ø¨Ø±Ø¯ Ø¯Ø± Ø·Ø¨ÛŒØ¹Øª Ùˆ Ù‡Ù†Ø±
                    `
                }
            };
            
            infoPanel.innerHTML = `
                <h3>${demoInfos[demo].title}</h3>
                <div class="instructions">
                    ${demoInfos[demo].instructions}
                </div>
            `;
        }

        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        window.onload = function() {
            setDemo('gravity');
        };
    </script>
</body>
</html>